:root{--bg:#f6f9fc;--panel:#ffffff;--accent:#2d9cdb;--ok:#4caf50;--warn:#ff9800}
*{box-sizing:border-box;font-family:'Comic Sans MS','Nunito',Segoe UI,Arial,sans-serif}
body{
  background:linear-gradient(135deg,#667eea 0%,#764ba2 25%,#f093fb 50%,#4facfe 75%,#00f2fe 100%);
  background-size:400% 400%;
  animation:gradientShift 15s ease infinite;
  margin:0;padding:24px;color:#1b2430;min-height:100vh
}
@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.wrap{max-width:900px;margin:0 auto;position:relative}

/* Score Popup Animations */
#scorePopupContainer{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999}
.score-popup{
  position:absolute;font-size:2rem;font-weight:900;
  text-shadow:0 4px 12px rgba(0,0,0,0.5);
  animation:scoreFloat 1.5s ease-out forwards;
  pointer-events:none;
  background:linear-gradient(135deg,#fbbf24,#f59e0b);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text
}
@keyframes scoreFloat{
  0%{transform:translateY(0) scale(1);opacity:1}
  100%{transform:translateY(-120px) scale(1.5);opacity:0}
}

/* Progress Bar */
.progress-container{margin:12px 0;padding:12px;background:rgba(255,255,255,0.2);border-radius:16px;backdrop-filter:blur(8px)}
.progress-label{display:flex;justify-content:space-between;margin-bottom:8px;color:#fff;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,0.2)}
.progress-bar-bg{
  height:24px;background:rgba(0,0,0,0.2);border-radius:12px;
  overflow:hidden;position:relative;
  box-shadow:inset 0 2px 8px rgba(0,0,0,0.3)
}
.progress-bar-fill{
  height:100%;background:linear-gradient(90deg,#10b981,#34d399,#6ee7b7);
  border-radius:12px;transition:width 0.8s cubic-bezier(0.4,0,0.2,1);
  box-shadow:0 0 20px rgba(16,185,129,0.6);
  position:relative
}
.progress-shine{
  position:absolute;top:0;left:-100%;width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);
  animation:progressShine 2s infinite
}
@keyframes progressShine{
  0%{left:-100%}
  100%{left:200%}
}

/* Combo & Streak Indicators */
.combo-indicator{
  display:inline-block;margin-left:8px;
  padding:4px 12px;border-radius:12px;
  background:linear-gradient(135deg,#ef4444,#f87171);
  color:#fff;font-size:0.85rem;font-weight:900;
  animation:comboPulse 0.6s ease-in-out infinite;
  box-shadow:0 4px 12px rgba(239,68,68,0.5)
}
@keyframes comboPulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.15)}
}
.streak-bonus{
  display:inline-block;margin-left:8px;
  padding:4px 10px;border-radius:10px;
  background:linear-gradient(135deg,#f97316,#fb923c);
  color:#fff;font-size:0.8rem;font-weight:700;
  animation:streakGlow 1s ease-in-out infinite
}
@keyframes streakGlow{
  0%,100%{box-shadow:0 0 8px rgba(249,115,22,0.6)}
  50%{box-shadow:0 0 20px rgba(249,115,22,1)}
}

/* Power-ups Bar */
.powerups-bar{
  margin:16px 0;padding:12px;
  background:linear-gradient(135deg,#fef3c7,#fde68a);
  border-radius:16px;border:3px solid #fbbf24;
  box-shadow:0 8px 20px rgba(0,0,0,0.2)
}
.powerup-title{
  font-weight:bold;color:#92400e;margin-bottom:10px;
  font-size:1.1rem;text-shadow:0 2px 4px rgba(255,255,255,0.6)
}
.powerup-btn{
  display:inline-flex;flex-direction:column;align-items:center;
  padding:10px 16px;margin:0 6px;border-radius:12px;border:none;
  background:linear-gradient(135deg,#fff,#fef3c7);
  cursor:pointer;transition:all 0.3s;
  box-shadow:0 4px 8px rgba(0,0,0,0.15);
  border:2px solid #fbbf24;min-width:80px
}
.powerup-btn:hover{
  transform:translateY(-4px) scale(1.08);
  box-shadow:0 8px 16px rgba(251,191,36,0.4);
  background:linear-gradient(135deg,#fef3c7,#fde68a)
}
.powerup-btn:active{transform:scale(0.95)}
.powerup-btn:disabled{
  opacity:0.4;cursor:not-allowed;transform:none!important
}
.powerup-icon{font-size:1.8rem;margin-bottom:4px}
.powerup-name{font-weight:bold;color:#92400e;font-size:0.9rem}
.powerup-cost{font-size:0.75rem;color:#78350f;margin-top:2px}

.top-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.lang-select{display:flex;align-items:center;gap:8px}
.lang-select label{color:#fff;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,0.2)}
.lang-select select{
  padding:6px 10px;border-radius:20px;border:2px solid #fff;
  background:rgba(255,255,255,0.9);font-weight:600;cursor:pointer;
  box-shadow:0 4px 8px rgba(0,0,0,0.15);transition:transform 0.2s
}
.lang-select select:hover{transform:scale(1.05)}

h1{
  margin:0;color:#fff;font-size:2.2rem;
  text-shadow:0 4px 12px rgba(0,0,0,0.3),0 2px 4px rgba(0,0,0,0.2);
  animation:titleBounce 2s ease-in-out infinite
}
@keyframes titleBounce{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-6px)}
}
.sub{color:#fff;margin-top:6px;text-shadow:0 2px 4px rgba(0,0,0,0.2);font-size:1.05rem}
.panel{
  display:flex;gap:20px;margin-top:18px;
  background:linear-gradient(135deg,#fff 0%,#f3e7ff 100%);
  padding:20px;border-radius:24px;
  box-shadow:0 12px 36px rgba(0,0,0,0.2),0 0 0 4px rgba(255,255,255,0.4);
  border:3px solid #fff;
  animation:panelPulse 3s ease-in-out infinite
}
@keyframes panelPulse{
  0%,100%{box-shadow:0 12px 36px rgba(0,0,0,0.2),0 0 0 4px rgba(255,255,255,0.4)}
  50%{box-shadow:0 16px 42px rgba(0,0,0,0.25),0 0 0 6px rgba(255,255,255,0.6)}
}
.left{flex:1}
.right{width:280px;display:flex;flex-direction:column;align-items:center;justify-content:center}
.info div{
  margin-bottom:8px;font-size:1rem;font-weight:600;
  color:#5b21b6;text-shadow:0 1px 2px rgba(255,255,255,0.8)
}
.info div strong{color:#ec4899;font-size:1.1rem}
.controls{margin-top:14px}
.controls label{display:block;color:#6b21a8;font-weight:700;margin-bottom:6px;font-size:1.05rem}
.controls input[type=range]{
  width:100%;height:12px;border-radius:10px;
  background:linear-gradient(90deg,#f472b6,#a78bfa,#60a5fa);
  outline:none;cursor:pointer;
  -webkit-appearance:none;
  appearance:none;
  box-shadow:0 3px 8px rgba(0,0,0,0.15)
}
.controls input[type=range]::-webkit-slider-thumb{
  -webkit-appearance:none;width:24px;height:24px;border-radius:50%;
  background:linear-gradient(135deg,#fbbf24,#f59e0b);
  cursor:pointer;box-shadow:0 4px 10px rgba(251,191,36,0.6);
  transition:transform 0.2s
}
.controls input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.2)}
.value{font-weight:700;margin-bottom:12px;color:#7c3aed;font-size:1.15rem}
.buttons{margin-top:14px;display:flex;gap:8px;flex-wrap:wrap}
.buttons button{
  background:linear-gradient(135deg,#f97316,#fb923c);
  border:none;color:#fff;padding:12px 20px;border-radius:20px;
  font-weight:700;font-size:1rem;cursor:pointer;
  box-shadow:0 6px 16px rgba(249,115,22,0.4);
  transition:all 0.3s;text-shadow:0 2px 4px rgba(0,0,0,0.2)
}
.buttons button:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 8px 20px rgba(249,115,22,0.6)}
.buttons button:active{transform:translateY(0) scale(0.98)}
.gate{
  width:160px;height:140px;border:6px solid #fbbf24;border-radius:20px;
  position:relative;
  background:linear-gradient(135deg,#fef3c7,#fde68a);
  box-shadow:0 8px 24px rgba(251,191,36,0.5),inset 0 2px 6px rgba(255,255,255,0.5);
  animation:gateGlow 2s ease-in-out infinite
}
@keyframes gateGlow{
  0%,100%{box-shadow:0 8px 24px rgba(251,191,36,0.5),inset 0 2px 6px rgba(255,255,255,0.5)}
  50%{box-shadow:0 12px 30px rgba(251,191,36,0.7),inset 0 2px 8px rgba(255,255,255,0.7)}
}
.gate .door{
  position:absolute;left:0;top:0;right:0;bottom:0;
  background:linear-gradient(135deg,#8b5cf6,#a78bfa);
  border-radius:16px;transform-origin:left center;
  transition:transform .5s cubic-bezier(0.68,-0.55,0.265,1.55);
  box-shadow:inset 0 4px 12px rgba(0,0,0,0.2)
}
.gate.open .door{transform:rotateY(-90deg)}
.lamp{
  position:absolute;bottom:16px;left:16px;width:24px;height:24px;
  border-radius:50%;background:#e5e7eb;
  box-shadow:0 0 8px rgba(0,0,0,0.1);transition:all .3s;
  border:3px solid #fff
}
.gate.open .lamp{
  background:linear-gradient(135deg,#10b981,#34d399);
  box-shadow:0 0 20px rgba(16,185,129,0.8),0 0 40px rgba(16,185,129,0.4);
  animation:lampPulse 0.6s ease-in-out infinite
}
@keyframes lampPulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.15)}
}
@keyframes gateShake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-4px) rotate(-2deg)}
  75%{transform:translateX(4px) rotate(2deg)}
}
.gate.open{animation:gateShake 0.5s ease-in-out}
.caption{margin-top:16px;color:#7c3aed;font-weight:700;font-size:1.05rem;text-shadow:0 1px 3px rgba(255,255,255,0.8)}
.instructions{
  margin-top:14px;
  background:linear-gradient(135deg,#ddd6fe,#e9d5ff);
  padding:12px;border-radius:16px;color:#5b21b6;width:100%;text-align:center;
  box-shadow:0 4px 12px rgba(139,92,246,0.2);border:2px solid #c4b5fd
}
.instructions strong{display:block;margin-bottom:6px;font-size:1.1rem;color:#6b21a8}
.instructions #levelDesc{font-size:14px;line-height:1.4}
footer{margin-top:20px;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,0.3);font-weight:600}
.tel{font-weight:700}

/* Confetti canvas */
#confetti-canvas{position:fixed;left:0;top:0;pointer-events:none;width:100%;height:100%;z-index:9999}

.toast{
  position:fixed;right:20px;top:20px;
  background:linear-gradient(135deg,#ec4899,#f472b6);
  color:white;padding:12px 18px;border-radius:16px;
  box-shadow:0 8px 24px rgba(236,72,153,0.5);z-index:10000;
  font-weight:700;font-size:1.05rem;
  border:2px solid rgba(255,255,255,0.4);
  animation:toastSlide 0.4s cubic-bezier(0.68,-0.55,0.265,1.55)
}
@keyframes toastSlide{
  0%{transform:translateX(400px)}
  100%{transform:translateX(0)}
}

.achievements{
  margin-top:16px;
  background:linear-gradient(135deg,#fef3c7,#fde68a);
  border:3px solid #fbbf24;padding:12px;border-radius:16px;
  color:#92400e;
  box-shadow:0 6px 18px rgba(251,191,36,0.3)
}
.achievements strong{font-size:1.1rem;color:#78350f}
.achievements ul{padding-left:20px;margin:8px 0}
.achievements li{font-size:14px;margin:4px 0;font-weight:600}

#soundToggle{
  background:linear-gradient(135deg,#10b981,#34d399);
  color:white;border:none;padding:8px 14px;border-radius:16px;cursor:pointer;
  font-weight:700;box-shadow:0 4px 12px rgba(16,185,129,0.4);
  transition:all 0.2s
}
#soundToggle:hover{transform:scale(1.08)}
#soundToggle.off{background:linear-gradient(135deg,#9ca3af,#d1d5db)}

/* Modal for match-3 */
.modal{
  position:fixed;left:0;top:0;width:100%;height:100%;
  background:rgba(2,6,23,0.7);
  display:flex;align-items:center;justify-content:center;z-index:10001;
  backdrop-filter:blur(4px);
  animation:modalFadeIn 0.3s ease
}
@keyframes modalFadeIn{
  0%{opacity:0}
  100%{opacity:1}
}
.modal-content{
  background:linear-gradient(135deg,#fef3c7,#fde68a);
  padding:20px;border-radius:24px;max-width:560px;width:92%;
  box-shadow:0 20px 60px rgba(0,0,0,0.4);text-align:center;
  border:4px solid #fbbf24;
  animation:modalBounce 0.4s cubic-bezier(0.68,-0.55,0.265,1.55)
}
@keyframes modalBounce{
  0%{transform:scale(0.7)}
  100%{transform:scale(1)}
}
.modal-content h3{color:#92400e;font-size:1.5rem;margin:0 0 12px;text-shadow:0 2px 4px rgba(255,255,255,0.6)}

/* Quiz Modal Styling */
.quiz-content{
  background:linear-gradient(135deg,#dbeafe,#bfdbfe)!important;
  border:4px solid #3b82f6!important;max-width:650px!important
}
.quiz-content h3{color:#1e3a8a!important}
.quiz-info{
  margin:12px 0;padding:12px;
  background:rgba(255,255,255,0.7);border-radius:12px;
  border-left:4px solid #3b82f6
}
.quiz-info p{margin:0;color:#1e40af;font-weight:600}
.quiz-question{margin:20px 0}
.question-text{
  font-size:1.2rem;font-weight:bold;color:#1e3a8a;
  padding:16px;background:rgba(255,255,255,0.8);
  border-radius:12px;margin-bottom:16px;
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
  border:2px solid #60a5fa
}
.quiz-options{display:flex;flex-direction:column;gap:12px}
.quiz-option{
  padding:14px 20px;border-radius:12px;
  background:linear-gradient(135deg,#fff,#f0f9ff);
  border:3px solid #93c5fd;cursor:pointer;
  font-weight:600;color:#1e40af;transition:all 0.3s;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  text-align:left;position:relative
}
.quiz-option:hover{
  transform:translateY(-3px);
  box-shadow:0 6px 16px rgba(59,130,246,0.4);
  border-color:#3b82f6;
  background:linear-gradient(135deg,#dbeafe,#bfdbfe)
}
.quiz-option.selected{
  background:linear-gradient(135deg,#3b82f6,#60a5fa);
  border-color:#1e40af;color:#fff;
  box-shadow:0 6px 20px rgba(59,130,246,0.6)
}
.quiz-option.correct{
  background:linear-gradient(135deg,#10b981,#34d399)!important;
  border-color:#059669!important;color:#fff!important;
  box-shadow:0 6px 20px rgba(16,185,129,0.6)!important
}
.quiz-option.wrong{
  background:linear-gradient(135deg,#ef4444,#f87171)!important;
  border-color:#dc2626!important;color:#fff!important;
  box-shadow:0 6px 20px rgba(239,68,68,0.6)!important;
  animation:shakeWrong 0.5s ease
}
@keyframes shakeWrong{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-10px)}
  75%{transform:translateX(10px)}
}
.quiz-feedback{
  margin:16px 0;padding:16px;border-radius:12px;
  font-weight:bold;font-size:1.1rem
}
.quiz-feedback.correct{
  background:linear-gradient(135deg,#d1fae5,#a7f3d0);
  border:3px solid #10b981;color:#065f46
}
.quiz-feedback.wrong{
  background:linear-gradient(135deg,#fee2e2,#fecaca);
  border:3px solid #ef4444;color:#991b1b
}
.quiz-controls{margin-top:16px;display:flex;gap:12px;justify-content:center}
.quiz-btn{
  padding:12px 28px;border-radius:16px;border:none;
  background:linear-gradient(135deg,#3b82f6,#60a5fa);
  color:#fff;font-weight:bold;font-size:1.05rem;cursor:pointer;
  box-shadow:0 4px 12px rgba(59,130,246,0.4);
  transition:all 0.3s;font-family:inherit
}
.quiz-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 20px rgba(59,130,246,0.6)
}
.quiz-btn:active{transform:scale(0.98)}
.quiz-btn:disabled{opacity:0.5;cursor:not-allowed;transform:none!important}
.retry-btn{
  background:linear-gradient(135deg,#f97316,#fb923c)!important;
  box-shadow:0 4px 12px rgba(249,115,22,0.4)!important
}
.retry-btn:hover{box-shadow:0 6px 20px rgba(249,115,22,0.6)!important}

.match-grid{display:grid;grid-template-columns:repeat(6,48px);grid-gap:8px;justify-content:center;margin:16px 0}
.match-cell{
  width:48px;height:48px;border-radius:12px;cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.2),inset 0 -4px rgba(0,0,0,0.15);
  transition:all 0.2s;border:2px solid rgba(255,255,255,0.6)
}
.match-cell:hover{transform:scale(1.08);box-shadow:0 6px 16px rgba(0,0,0,0.3)}
.match-cell:active{transform:scale(0.95)}
.match-controls{margin-top:12px;display:flex;gap:10px;justify-content:center}
.match-controls button{
  padding:10px 18px;border-radius:16px;border:none;
  background:linear-gradient(135deg,#f97316,#fb923c);
  color:white;cursor:pointer;font-weight:700;font-size:1rem;
  box-shadow:0 4px 12px rgba(249,115,22,0.4);
  transition:all 0.2s;text-shadow:0 1px 3px rgba(0,0,0,0.2)
}
.match-controls button:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(249,115,22,0.6)}
.match-controls button:disabled{background:linear-gradient(135deg,#9ca3af,#d1d5db);cursor:not-allowed;opacity:0.6}
.match-info{margin-bottom:10px;font-weight:700;color:#92400e;font-size:1.05rem}
.match-controls button small,small{color:#92400e;font-size:0.95rem}

/* Digital logic game controls */
#digitalGame{margin-top:16px}
.logic-inputs{display:flex;gap:16px;margin-bottom:20px;justify-content:center;flex-wrap:wrap}
.input-toggle{display:flex;flex-direction:column;align-items:center;gap:8px}
.input-toggle label{font-weight:700;color:#6b21a8;font-size:1.05rem}
.logic-btn{
  padding:16px 24px;border-radius:20px;border:none;
  font-weight:700;font-size:1.2rem;cursor:pointer;
  transition:all 0.3s;min-width:140px;
  box-shadow:0 6px 16px rgba(0,0,0,0.2)
}
.logic-btn.off{
  background:linear-gradient(135deg,#9ca3af,#d1d5db);
  color:#374151
}
.logic-btn.on{
  background:linear-gradient(135deg,#10b981,#34d399);
  color:#fff;
  box-shadow:0 6px 20px rgba(16,185,129,0.5);
  animation:btnPulse 0.8s ease-in-out infinite
}
@keyframes btnPulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.05)}
}
.logic-btn:hover{transform:translateY(-2px) scale(1.03)}
.logic-btn:active{transform:translateY(0) scale(0.98)}

.gate-visual{
  text-align:center;margin:24px 0;
  padding:20px;
  background:linear-gradient(135deg,#fef3c7,#fde68a);
  border-radius:20px;border:3px solid #fbbf24;
  box-shadow:0 8px 24px rgba(251,191,36,0.3)
}
.gate-box{
  font-size:2.5rem;font-weight:900;color:#92400e;
  text-shadow:0 2px 6px rgba(255,255,255,0.6);
  padding:20px;
  background:rgba(255,255,255,0.5);
  border-radius:16px;
  display:inline-block;
  min-width:200px
}

.logic-output{text-align:center;margin:20px 0}
.output-display{display:inline-block}
.output-display label{font-weight:700;color:#6b21a8;font-size:1.1rem;display:block;margin-bottom:8px}
.output-value{
  padding:16px 32px;border-radius:20px;font-weight:900;font-size:1.3rem;
  display:inline-block;min-width:160px;
  box-shadow:0 6px 16px rgba(0,0,0,0.2);
  border:3px solid rgba(255,255,255,0.6)
}
.output-value.off{background:linear-gradient(135deg,#ef4444,#f87171);color:#fff}
.output-value.on{
  background:linear-gradient(135deg,#10b981,#34d399);
  color:#fff;
  box-shadow:0 8px 24px rgba(16,185,129,0.6);
  animation:outputGlow 1s ease-in-out infinite
}
@keyframes outputGlow{
  0%,100%{box-shadow:0 8px 24px rgba(16,185,129,0.6)}
  50%{box-shadow:0 12px 32px rgba(16,185,129,0.9)}
}

.truth-table-hint{margin-top:20px;text-align:center}
.hint-btn{
  padding:10px 20px;border-radius:16px;border:none;
  background:linear-gradient(135deg,#8b5cf6,#a78bfa);
  color:#fff;font-weight:700;cursor:pointer;
  box-shadow:0 4px 12px rgba(139,92,246,0.4);
  transition:all 0.2s
}
.hint-btn:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(139,92,246,0.6)}
.truth-table{
  margin:16px auto;border-collapse:collapse;
  background:rgba(255,255,255,0.9);border-radius:12px;overflow:hidden;
  box-shadow:0 4px 12px rgba(0,0,0,0.15)
}
.truth-table th,.truth-table td{
  padding:12px 20px;border:2px solid #e9d5ff;
  font-weight:700;font-size:1.05rem
}
.truth-table th{background:linear-gradient(135deg,#8b5cf6,#a78bfa);color:#fff}
.truth-table td{background:rgba(255,255,255,0.8);color:#5b21b6}

/* ========== OPTION A: DRAG & DROP COMPONENTS ========== */
.drag-drop-zone{
  margin:16px 0;padding:16px;
  background:linear-gradient(135deg,#fff5e6,#ffe5cc);
  border-radius:16px;border:3px dashed #ff9800;
  animation:dropZoneGlow 2s ease-in-out infinite
}
@keyframes dropZoneGlow{
  0%,100%{border-color:#ff9800;box-shadow:0 0 12px rgba(255,152,0,0.3)}
  50%{border-color:#ffb74d;box-shadow:0 0 20px rgba(255,152,0,0.5)}
}
.component-palette{
  display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px;
  padding-bottom:12px;border-bottom:2px solid #ff9800
}
.palette-title{
  width:100%;font-weight:bold;color:#ff9800;font-size:1.1rem;
  text-shadow:0 2px 4px rgba(0,0,0,0.1)
}
.component-item{
  padding:12px 16px;background:linear-gradient(135deg,#fff,#ffe0b2);
  border:2px solid #ff9800;border-radius:12px;cursor:grab;
  font-weight:600;color:#e65100;transition:all 0.3s;
  box-shadow:0 4px 8px rgba(0,0,0,0.15)
}
.component-item:hover{
  transform:translateY(-4px) scale(1.05);
  box-shadow:0 6px 16px rgba(0,0,0,0.25);
  background:linear-gradient(135deg,#ffecb3,#ffd54f)
}
.component-item:active{cursor:grabbing;transform:scale(0.95)}
.component-item .emoji{font-size:1.3rem;margin-right:6px}

/* Gate-specific styling */
.component-item.gate-item{
  background:linear-gradient(135deg,#e3f2fd,#bbdefb);
  border-color:#2196f3;color:#0d47a1
}
.component-item.gate-item:hover{
  background:linear-gradient(135deg,#bbdefb,#90caf9)
}
.component-item.resistor-item{display:inline-flex}
.component-item.gate-item{display:inline-flex}

.drop-zones{display:flex;gap:16px;justify-content:space-around;flex-wrap:wrap}
.drop-slot{flex:1;text-align:center;min-width:120px}
.slot-label{
  display:block;font-weight:bold;color:#ff6f00;margin-bottom:8px;
  text-shadow:0 2px 4px rgba(0,0,0,0.1)
}
/* Hide/show slots based on level type */
.drop-slot.resistor-slot{display:block}
.drop-slot.gate-slot{display:none}
body.digital-level .drop-slot.resistor-slot{display:none}
body.digital-level .drop-slot.gate-slot{display:block}
body.digital-level .component-item.resistor-item{display:none}
body.digital-level .component-item.gate-item{display:inline-flex}
body.analog-level .component-item.gate-item{display:none}
body.analog-level .component-item.resistor-item{display:inline-flex}
.gate-slot .slot-label{color:#2196f3}

/* Manual Input Section */
.manual-input-section{
  margin:16px 0;padding:16px;
  background:linear-gradient(135deg,#f0f9ff,#e0f2fe);
  border-radius:12px;border:2px solid #0ea5e9;
  box-shadow:0 4px 12px rgba(14,165,233,0.2)
}
.manual-input-title{
  font-weight:bold;color:#0369a1;font-size:1.1rem;
  margin-bottom:12px;text-align:center;
  text-shadow:0 2px 4px rgba(0,0,0,0.1)
}
.manual-inputs{
  display:flex;gap:16px;justify-content:space-around;flex-wrap:wrap
}
.manual-input-group{
  display:flex;align-items:center;gap:8px;
  background:rgba(255,255,255,0.6);padding:12px;
  border-radius:12px;border:2px solid #38bdf8
}
.manual-input-group label{
  font-weight:bold;color:#0369a1;min-width:60px
}
.manual-input{
  padding:8px 12px;border:2px solid #0ea5e9;border-radius:8px;
  font-size:1rem;font-weight:600;color:#0c4a6e;
  background:#fff;width:120px;transition:all 0.3s;
  font-family:inherit
}
.manual-input:focus{
  outline:none;border-color:#0284c7;
  box-shadow:0 0 12px rgba(14,165,233,0.4);
  transform:scale(1.02)
}
.apply-btn{
  padding:8px 16px;border-radius:10px;border:none;
  background:linear-gradient(135deg,#10b981,#34d399);
  color:#fff;font-weight:bold;cursor:pointer;
  box-shadow:0 4px 8px rgba(16,185,129,0.3);
  transition:all 0.3s;font-family:inherit;font-size:0.95rem
}
.apply-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 16px rgba(16,185,129,0.5);
  background:linear-gradient(135deg,#059669,#10b981)
}
.apply-btn:active{transform:scale(0.95)}
body.digital-level .manual-input-section{display:none}

.drop-target{
  padding:24px;border:3px dashed #ff9800;border-radius:12px;
  background:rgba(255,255,255,0.5);min-height:80px;
  display:flex;align-items:center;justify-content:center;
  font-weight:600;color:#999;transition:all 0.3s;
  box-shadow:inset 0 2px 8px rgba(0,0,0,0.1)
}
.drop-target.drag-over{
  background:linear-gradient(135deg,#81c784,#66bb6a);
  border-color:#4caf50;color:#fff;
  box-shadow:0 0 20px rgba(76,175,80,0.5);
  transform:scale(1.05)
}
.drop-target.filled{
  background:linear-gradient(135deg,#4caf50,#66bb6a);
  border-color:#2e7d32;color:#fff;font-size:1.1rem;
  box-shadow:0 4px 12px rgba(0,0,0,0.2)
}

/* Reset Controls for All Modes */
.reset-controls{
  margin-top:16px;text-align:center;
  padding-top:12px;border-top:2px solid rgba(0,0,0,0.1)
}
.reset-btn{
  padding:12px 24px;border-radius:20px;border:none;
  background:linear-gradient(135deg,#ef4444,#f87171);
  color:#fff;font-weight:bold;font-size:1rem;cursor:pointer;
  box-shadow:0 4px 12px rgba(239,68,68,0.4);
  transition:all 0.3s;font-family:inherit
}
.reset-btn:hover{
  transform:translateY(-3px) scale(1.05);
  box-shadow:0 6px 20px rgba(239,68,68,0.6);
  background:linear-gradient(135deg,#dc2626,#ef4444)
}
.reset-btn:active{
  transform:translateY(0) scale(0.98);
  box-shadow:0 2px 8px rgba(239,68,68,0.5)
}
.reset-btn:disabled{
  opacity:0.5;cursor:not-allowed;
  transform:none!important
}

/* ========== OPTION D: WIRE CONNECTION PUZZLE ========== */
.wire-puzzle{
  margin:16px 0;padding:16px;
  background:linear-gradient(135deg,#fef3c7,#fde68a);
  border-radius:16px;border:3px solid #f59e0b
}
.puzzle-instruction{
  font-weight:bold;color:#92400e;margin-bottom:12px;
  font-size:1.1rem;text-align:center;
  text-shadow:0 2px 4px rgba(255,255,255,0.6)
}
.terminal{cursor:pointer;transition:all 0.3s}
.terminal:hover circle{transform:scale(1.2);filter:drop-shadow(0 4px 8px rgba(0,0,0,0.3))}
.terminal.selected circle{
  animation:terminalPulse 0.6s ease-in-out infinite;
  filter:drop-shadow(0 0 12px currentColor)
}
@keyframes terminalPulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.15)}
}
.wire-line{
  stroke-width:4;stroke-linecap:round;
  transition:all 0.3s;cursor:pointer
}
.wire-line:hover{stroke-width:6}
.wire-line.correct{stroke:#10b981;stroke-width:5;filter:drop-shadow(0 0 8px #10b981)}
.wire-line.wrong{stroke:#ef4444;stroke-width:5;filter:drop-shadow(0 0 8px #ef4444);animation:wireShake 0.4s}
@keyframes wireShake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-4px)}
  75%{transform:translateX(4px)}
}
.wire-feedback{
  margin-top:12px;padding:12px;border-radius:12px;
  font-weight:bold;text-align:center;display:none
}
.wire-feedback.show{display:block}
.wire-feedback.success{background:linear-gradient(135deg,#d1fae5,#a7f3d0);border:2px solid #10b981;color:#065f46}
.wire-feedback.error{background:linear-gradient(135deg,#fee2e2,#fecaca);border:2px solid #ef4444;color:#991b1b}

/* ========== OPTION E: COMPONENT MATCHING PUZZLE ========== */
.component-match-puzzle{
  margin:16px 0;padding:16px;
  background:linear-gradient(135deg,#e0e7ff,#c7d2fe);
  border-radius:16px;border:3px solid #6366f1
}
.matching-container{display:flex;gap:20px;justify-content:space-around;margin-top:16px}
.match-column{flex:1;display:flex;flex-direction:column;gap:12px}
.match-title{
  font-weight:bold;color:#3730a3;text-align:center;
  font-size:1.1rem;margin-bottom:8px;
  text-shadow:0 2px 4px rgba(255,255,255,0.6)
}
.match-item{
  padding:12px 16px;background:linear-gradient(135deg,#fff,#e0e7ff);
  border:3px solid #818cf8;border-radius:12px;cursor:grab;
  display:flex;align-items:center;gap:10px;
  transition:all 0.3s;box-shadow:0 4px 8px rgba(0,0,0,0.1)
}
.match-item:hover{
  transform:translateY(-4px) scale(1.05);
  box-shadow:0 6px 16px rgba(99,102,241,0.4);
  background:linear-gradient(135deg,#ddd6fe,#c7d2fe)
}
.match-item:active{cursor:grabbing}
.match-emoji{font-size:1.5rem}
.match-text{font-weight:600;color:#3730a3}
.match-slot{
  padding:12px 16px;border:3px dashed #818cf8;
  border-radius:12px;background:rgba(255,255,255,0.5);
  min-height:60px;display:flex;align-items:center;justify-content:center;
  transition:all 0.3s;box-shadow:inset 0 2px 8px rgba(0,0,0,0.1)
}
.match-slot.drag-over{
  background:linear-gradient(135deg,#c7d2fe,#a5b4fc);
  border-color:#6366f1;border-style:solid;
  transform:scale(1.05);box-shadow:0 0 20px rgba(99,102,241,0.5)
}
.match-slot.filled{
  background:linear-gradient(135deg,#10b981,#34d399);
  border-color:#059669;border-style:solid;
  box-shadow:0 4px 12px rgba(16,185,129,0.4)
}
.match-slot.wrong{
  background:linear-gradient(135deg,#ef4444,#f87171);
  border-color:#dc2626;animation:matchShake 0.5s
}
@keyframes matchShake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-8px)}
  75%{transform:translateX(8px)}
}
.symbol-text{font-family:monospace;font-size:1.2rem;font-weight:bold;color:#4338ca}

/* ========== OPTION F: PATTERN RECOGNITION PUZZLE ========== */
.pattern-puzzle{
  margin:16px 0;padding:16px;
  background:linear-gradient(135deg,#fce7f3,#fbcfe8);
  border-radius:16px;border:3px solid #ec4899
}
.pattern-display{margin:20px 0}
.pattern-row{display:flex;gap:12px;justify-content:center}
.pattern-cell{
  width:70px;height:70px;border-radius:12px;
  display:flex;align-items:center;justify-content:center;
  font-size:2rem;font-weight:900;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  border:3px solid;transition:all 0.3s
}
.pattern-cell.filled{
  background:linear-gradient(135deg,#ec4899,#f472b6);
  border-color:#be185d;color:#fff;
  text-shadow:0 2px 4px rgba(0,0,0,0.3)
}
.pattern-cell.empty{
  background:rgba(255,255,255,0.8);
  border-color:#f9a8d4;color:#be185d;
  border-style:dashed;animation:cellPulse 1.5s ease-in-out infinite
}
@keyframes cellPulse{
  0%,100%{transform:scale(1);box-shadow:0 4px 12px rgba(0,0,0,0.2)}
  50%{transform:scale(1.08);box-shadow:0 6px 20px rgba(236,72,153,0.4)}
}
.pattern-options{
  display:flex;gap:12px;justify-content:center;margin-top:20px
}
.pattern-option{
  width:80px;height:80px;border-radius:16px;border:none;
  background:linear-gradient(135deg,#fff,#fce7f3);
  border:3px solid #f472b6;cursor:pointer;
  font-size:2.5rem;font-weight:900;color:#be185d;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
  transition:all 0.3s
}
.pattern-option:hover{
  transform:translateY(-6px) scale(1.1);
  box-shadow:0 8px 20px rgba(236,72,153,0.4);
  background:linear-gradient(135deg,#fce7f3,#fbcfe8)
}
.pattern-option:active{transform:scale(0.95)}
.pattern-feedback{
  margin-top:16px;padding:12px;border-radius:12px;
  font-weight:bold;text-align:center;display:none
}
.pattern-feedback.show{display:block}
.pattern-feedback.success{background:linear-gradient(135deg,#d1fae5,#a7f3d0);border:2px solid #10b981;color:#065f46}
.pattern-feedback.error{background:linear-gradient(135deg,#fee2e2,#fecaca);border:2px solid #ef4444;color:#991b1b}

/* ========== OPTION B: PHYSICAL SWITCH CONTROLS ========== */
.switch-controls{
  display:flex;gap:20px;justify-content:space-around;
  margin:20px 0;padding:20px;
  background:linear-gradient(135deg,#e8f5e9,#c8e6c9);
  border-radius:16px;border:3px solid #4caf50
}
.switch-box{text-align:center}
.switch-label{
  display:block;font-weight:bold;color:#2e7d32;margin-bottom:12px;
  font-size:1.1rem;text-shadow:0 2px 4px rgba(0,0,0,0.1)
}
.physical-switch{
  position:relative;width:80px;height:120px;cursor:pointer;
  transition:all 0.3s;margin:0 auto
}
.physical-switch:hover{transform:scale(1.05)}
.physical-switch:active{transform:scale(0.95)}
.switch-lever{
  position:absolute;top:10px;left:50%;transform:translateX(-50%);
  width:16px;height:60px;background:linear-gradient(135deg,#757575,#424242);
  border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,0.3);
  transition:all 0.4s cubic-bezier(0.68,-0.55,0.265,1.55);
  border:2px solid #9e9e9e
}
.physical-switch.on .switch-lever{
  transform:translateX(-50%) rotate(30deg);
  background:linear-gradient(135deg,#4caf50,#66bb6a);
  border-color:#2e7d32;
  box-shadow:0 0 20px rgba(76,175,80,0.8)
}
.switch-base{
  position:absolute;bottom:0;width:100%;height:50px;
  background:linear-gradient(135deg,#bdbdbd,#9e9e9e);
  border-radius:8px;border:3px solid #757575;
  display:flex;align-items:center;justify-content:center;
  box-shadow:inset 0 4px 8px rgba(0,0,0,0.2)
}
.physical-switch.on .switch-base{
  background:linear-gradient(135deg,#4caf50,#66bb6a);
  border-color:#2e7d32;
  box-shadow:0 0 16px rgba(76,175,80,0.6)
}
.switch-state{
  font-weight:bold;color:#fff;font-size:0.85rem;
  text-shadow:0 2px 4px rgba(0,0,0,0.3)
}

/* ========== OPTION C: PUZZLE PIECE CIRCUIT BUILDER ========== */
.puzzle-builder{
  margin:16px 0;padding:16px;
  background:linear-gradient(135deg,#e1f5fe,#b3e5fc);
  border-radius:16px;border:3px solid #0288d1
}
.puzzle-canvas{
  margin-bottom:16px;background:#fff;border-radius:12px;
  padding:12px;box-shadow:inset 0 2px 8px rgba(0,0,0,0.1)
}
.piece-slot{cursor:pointer;transition:all 0.3s}
.piece-slot:hover{transform:scale(1.1);filter:drop-shadow(0 4px 12px rgba(0,0,0,0.3))}
.puzzle-pieces{
  display:flex;gap:12px;justify-content:center;flex-wrap:wrap
}
.puzzle-piece{
  padding:16px 20px;background:linear-gradient(135deg,#fff,#e3f2fd);
  border:3px solid #0288d1;border-radius:12px;cursor:grab;
  display:flex;flex-direction:column;align-items:center;gap:4px;
  transition:all 0.3s;box-shadow:0 4px 8px rgba(0,0,0,0.15)
}
.puzzle-piece:hover{
  transform:translateY(-6px) scale(1.08);
  box-shadow:0 8px 16px rgba(0,0,0,0.25);
  background:linear-gradient(135deg,#bbdefb,#90caf9)
}
.puzzle-piece:active{cursor:grabbing;transform:scale(0.95)}
.piece-icon{font-size:2rem;font-weight:bold;color:#01579b}
.piece-name{
  font-weight:bold;color:#0277bd;font-size:0.9rem;
  text-shadow:0 2px 4px rgba(0,0,0,0.1)
}
.puzzle-piece.placed{
  opacity:0.4;cursor:not-allowed;transform:scale(0.9)
}
.puzzle-piece.placed:hover{
  transform:scale(0.9);box-shadow:0 4px 8px rgba(0,0,0,0.15)
}



